{% extends 'base.html.twig' %}

{# {% block title %}Hello HomeController!{% endblock %} #}

{% block body %}
<div class="w-full h-screen w:md-2/3 mx-auto flex overflow-hidden">
    <div class="nav">
        {{ include('shared/_form_nav.html.twig') }}
    </div>
    <div class="flex flex-col w-10/12 h-screen place-items-center justify-between ml-40">

        <div class="flex w-full justify-between place-items-center mt-4" data-sort="vehicle">
            <h2 class="page__title">Pojazdy</h2>
            {{ include('shared/_top_nav.html.twig') }}
        </div>

        <div class="flex flex-col w-full h-full justify-between">
            <div class="content-table main__box main__box-content flex w-full rounded-md ring-gray-700 ring-1 mt-4">
            <table class="w-full text-white">
                <tr class="table__head
                ">
                    <th>ID</th>
                    <th>POJAZD</th>
                    <th>TABLICE REJESTRACYJNE</th>
                    <th>ROCZNIK</th>
                    <th>ROK ZAKUPU</th>
                    <th>PRZEGLĄD</th>
                    <th>UBEZPIECZENIE</th>
                    <th>EDYTUJ / USUŃ</th>
                </tr>
                {% if vehicles|length > 0 %}
                    {% for vehicle in vehicles %}
                    {{ include('vehicle/_vehicle.html.twig', {'vehicle': vehicle, 'currentDate': currentDate}) }}   
                    {% endfor %}
                {% endif %}

            </table>
            
            </div>
        </div>
            <div class="content-form main__box flex flex-col w-10/12 h-2/5 rounded-md ring-gray-700 ring-1 p-2 place-content-center text-center absolute">
                <i class="form__button fa-solid fa-chevron-down text-white cursor-pointer"></i>
                {% if form_type == 'edit' %}
                    {% embed "vehicle/_edit_form.html.twig" %}{% endembed %}
                {% else %}
                    {% embed "vehicle/_form_vehicle_add.html.twig" %}{% endembed %}   
                {% endif %}
            </div>
        {# <table class="w-full">
            <tr class="">
                <th>Nr</th>
                <th>Pojazd</th>
                <th>Rocznik</th>
                <th>Tablice rejestracyjne</th>
                <th>Rok zakupu</th>
                <th>Przegląd</th>
                <th>Ubezpieczenie</th>
                <th>Akcja</th>
            </tr>
            {% if vehicles|length > 0 %}
                {% for vehicle in vehicles %}
                {{ include('vehicle/_vehicle.html.twig', {'vehicle': vehicle, 'currentDate': currentDate}) }}   
                {% endfor %}
            {% endif %}
        </table>   #}
        {# {% if form_type == 'edit' %}
            {% embed "vehicle/_edit_form.html.twig" %}{% endembed %}
        {% else %}
            {% embed "vehicle/_form_vehicle_add.html.twig" %}{% endembed %}   
        {% endif %} #}
    </div>
</div>
{% endblock %}
