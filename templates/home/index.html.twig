{% extends 'base.html.twig' %}

{# {% block title %}Hello HomeController!{% endblock %} #}

{% block body %}
<div class="grid grid-cols-8 w-full h-full w:md-2/3 mx-auto ">
        {{ include('shared/_form_nav.html.twig') }}
        <div class="col-span-6 flex justify-evenly place-items-center">
        {% for flash_error in app.flashes('success') %}
        <div class="success alert-success absolute top-3 w-1/3 text-center rounded-md bg-green-200 border border-green-300 text-green-700 p-3" role="alert">{{ flash_error }}</div>
        {% endfor %}
                <div class="bg-gray-300 rounded-2xl w-2/5 h-1/3 p-5 font-mono">
                        <h2 class="text-xl">POJAZDY</h2>
                        <p>Posiadane: {{ vehicles|length }}</p>
                        <p>Najbliszy termin przeglądu: 
                        {% if nextService is not null %}
                                {{ nextService|date('d-m-Y') }}</p>
                        {% else %}
                                ----
                        {% endif %}
                        
                        <p>Ostatni dodany pojazd: 
                        {% if lastVehicle is not null %}
                                {{ lastVehicle.brand }} {{ lastVehicle.model }} | {{ lastVehicle.numberPlate }}
                        {% else %}
                                ----
                        {% endif %}
                        </p>
                        <p>Najstarszy posiadany pojazd: 
                        {% if oldestVehicle is not null %}
                                {{ oldestVehicle.brand }} {{ oldestVehicle.model }} {{ oldestVehicle.year }}r.
                        {% else %}
                                ----
                        {% endif %}
                        </p>
                </div>
                <div class="bg-blue-950 rounded-2xl w-2/5 h-1/3 p-5 text-gray-300 font-mono">
                        <h2 class="text-xl">NAPRAWY</h2>
                        <p>Suma kosztów: 
                        {% if totalRepairs is not null %}
                                {{ totalRepairs }} PLN</p>
                        {% else %}
                                0
                        {% endif %}
                        
                        <p>Suma napraw: {{ repairs|length }}</p>
                        <p>Najwięcej napraw: 
                        {% if mostRepairs is not null %}
                                {{ mostRepairs.brand }} {{ mostRepairs.model }} | {{ mostRepairs.numberPlate }}
                        {% else %}
                               ---- 
                        {% endif %}
                        </p>
                        <p>Ostatnia naprawa: 
                        {% if newestRepair is not null %}
                                {{ newestRepair.dateRepair|date('d-m-Y') }}
                        {% else %}
                                ----
                        {% endif %}
                        </p>
                </div>
        
        </div>
                {# <div class="">
                        Najbliszy przegląd:
                        {{ nextService|date('d-m-Y') }}
                </div> #}
</div>
{% endblock %}
